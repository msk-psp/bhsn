# **Project Brief: 법령 정보 관리 데이터 파이프라인 및 API 서버**

## **1. Executive Summary**

본 프로젝트는 법제처에서 제공하는 법령 정보를 주기적으로 수집, 관리하는 안정적인 데이터 파이프라인을 구축하고, 수집된 데이터를 API를 통해 외부에 제공하는 것을 목표로 합니다. Apache Airflow를 사용하여 매일 배치 작업을 수행하고, 데이터의 최신성과 정합성을 유지하여 MySQL 데이터베이스에 저장합니다. 또한, FastAPI 기반의 API 서버를 구축하여 사용자가 법령 및 개별 조항 단위로 데이터를 조회할 수 있도록 합니다.

## **2. Problem Statement**

법령 정보는 지속적으로 개정되므로, 최신 정보를 수동으로 추적하고 반영하는 것은 비효율적이고 오류 발생 가능성이 높습니다. 현재 법령 데이터의 일관성(법령-조항 간 관계)과 최신성을 보장하는 자동화된 시스템이 부재하며, 수집된 데이터를 애플리케이션에서 쉽게 활용할 수 있는 표준화된 인터페이스가 필요합니다. 데이터 수집 과정의 실패를 즉각 파악하고 대응하는 것 또한 중요합니다.

## **3. Proposed Solution**

Apache Airflow 기반의 일일 배치 파이프라인과 FastAPI 기반의 API 서버를 결합하여 문제를 해결합니다.

*   **데이터 수집**: 매일 정해진 시간에 Airflow DAG를 실행하여 Mock API로부터 최신 법령 목록과 각 법령의 상세 본문을 크롤링합니다.
*   **데이터 처리 및 저장**: 수집된 데이터를 정제하고, 법령과 조항 간의 관계를 유지하며 MySQL 데이터베이스에 적재합니다. '공포일자'를 기준으로 데이터의 최신성을 보장합니다.
*   **데이터 제공 (API)**: FastAPI를 사용하여 수집된 법령 데이터를 조회할 수 있는 REST API를 구축합니다. 사용자는 이 API를 통해 특정 법령 전체 또는 개별 조항 단위로 데이터를 요청하고 응답받을 수 있습니다.
*   **모니터링 및 알림**: **파이프라인 실패 시 알림을 보내는 기능을 인터페이스로 추상화하고, 실제 구현에서는 Mock 알림 API를 호출하도록 설계합니다. 이를 통해 실제 알림 시스템(이메일, 슬랙 등)으로 쉽게 확장할 수 있는 구조를 만듭니다.**

## **4. Target Users**

*   **Primary User**: 제공되는 FastAPI를 통해 법령 데이터를 소비하여 새로운 서비스를 개발하거나 기존 시스템에 연동해야 하는 백엔드 및 클라이언트 애플리케이션 개발자.
*   **Secondary User**: 향후 구축될 수 있는 애플리케이션을 통해 법령 정보를 조회하고 활용하고자 하는 법률 전문가 또는 연구원.

## **5. Goals & Success Metrics**

*   **Business Objectives**:
    *   안정적인 법령 데이터 파이프라인 및 API 서버 구축/배포 완료.
    *   매일 데이터 업데이트 주기를 통해 데이터 최신성 확보 (지연 시간 24시간 미만).
*   **User Success Metrics**:
    *   개발자는 API를 통해 언제나 최신 버전의 법령 데이터를 안정적으로 조회할 수 있다.
    *   데이터가 법령/조항 단위로 구조화되어 있어 원하는 정보를 API로 쉽게 조회하고 활용할 수 있다.
*   **Key Performance Indicators (KPIs)**:
    *   파이프라인 일일 실행 성공률: 99.5% 이상
    *   API 서버 가용성(Uptime): 99.9%
    *   API 평균 응답 시간: 200ms 이하

## **6. MVP Scope**

*   **Core Features (In-Scope)**:
    *   매일 실행되는 Airflow DAG 1개 구현.
    *   2개의 Mock API를 크롤링하는 Python 스크립트.
    *   법령 및 조항 데이터 저장을 위한 MySQL 데이터베이스 스키마 설계.
    *   데이터베이스 생성 및 데이터 적재 스크립트.
    *   FastAPI 애플리케이션 구현 (법령 및 조항 단위 조회 엔드포인트 포함).
    *   **알림 전송을 위한 인터페이스 및 Mock API를 호출하는 기능 구현.**
*   **Out of Scope for MVP**:
    *   데이터 조회를 위한 프론트엔드 UI.
    *   Kafka를 이용한 실시간 스트리밍 파이프라인 도입.
    *   실제 법제처 API 연동.
    *   API 사용자를 위한 인증/인가 기능.

## **7. Post-MVP Vision**

*   **Phase 2**: Kafka를 도입하여 실시간 데이터 변경 감지 및 반영이 가능한 이벤트 기반 아키텍처로 고도화하고, API에 사용자 인증 및 사용량 제어(Rate Limiting) 기능을 추가합니다.
*   **Long-term Vision**: 법령 정보뿐만 아니라 판례, 행정규칙 등 다른 모든 법률 관련 데이터를 통합 관리하는 전사적 법률 정보 플랫폼으로 발전시킵니다.

## **8. Technical Considerations**

*   **Target Platforms**: Server-side Application (Linux 기반)
*   **Technology Preferences**:
    *   **Language**: Python
    *   **Database**: MySQL
    *   **Frameworks**: Apache Airflow, FastAPI
*   **Architecture Considerations**:
    *   데이터 수집(Batch)과 데이터 제공(API)이 분리된 아키텍처.
    *   효율적인 데이터 저장 및 조회를 고려한 MySQL 데이터베이스 설계.
    *   **알림 시스템을 인터페이스로 분리하여, 다른 시스템과의 결합도를 낮춤.**

## **9. Constraints & Assumptions**

*   **Constraints**:
    *   개발은 명세서에 정의된 2개의 Mock API를 기반으로 진행한다.
    *   최종 결과물은 완전한 e2e 프로젝트가 아닌, 각 컴포넌트별 구현 스크립트 및 설계 문서이다.
*   **Key Assumptions**:
    *   Mock API는 안정적으로 운영되며, API 명세는 변경되지 않는다고 가정한다.
    *   초기 데이터의 양은 일일 배치 작업으로 충분히 처리 가능하며, API를 통해 제공하기에 적합한 수준이라고 가정한다.
